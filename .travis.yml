language: python

notifications:
  email: false

python:
  - '2.7'
  - '3.5'
  - '3.6'
  - '3.7'

dist: xenial

before_install:
  - python --version
  - pip install -U pip
  - pip install -U -r requirements.txt
  - pip install -U -r test_requirements.txt

install:
  - pip install ".[test]" . # install package + test dependencies

script:
  - coverage run -m unittest discover # run tests
  - coverage report -m # report to console
  - travis-sphinx build --source=docs/source

after_success:
  - codecov # submit coverage
  - travis-sphinx deploy # deploy docs

# before_script:
#   - pip install -U -r requirements.txt
#   - pip install -U -r test_requirements.txt

# script:
#   # - pytest --cov-config=.coveragerc --cov=egenerator
#   # - travis-sphinx build --source=docs/source

# after_success:
#   # - coveralls
#   # - travis-sphinx deploy

# deploy:
#   provider: pypi
#   user:
#     secure: YOUR_PYPI_USER_PUBLIC_SECRET_HERE
#   password:
#     secure: YOUR_PYPI_PASS_PUBLIC_SECRET_HERE
#   on:
#     tags: true
